<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><title data-react-helmet="true">SVG基础及其动画应用浅析 | 云音乐大前端专栏</title><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#dd001b"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=d8c4c3e0da7a96b81c222f3b61a1543f"/><meta name="generator" content="Gatsby 2.15.7"/><meta data-react-helmet="true" name="description" content="当你需要开发web动画时，这里可以给你提供一个清晰的思路"/><meta data-react-helmet="true" property="og:title" content="SVG基础及其动画应用浅析"/><meta data-react-helmet="true" property="og:description" content="当你需要开发web动画时，这里可以给你提供一个清晰的思路"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="云音乐大前端团队"/><meta data-react-helmet="true" name="twitter:title" content="SVG基础及其动画应用浅析"/><meta data-react-helmet="true" name="twitter:description" content="当你需要开发web动画时，这里可以给你提供一个清晰的思路"/><style data-href="/styles.a8f6e12462010344bfaf.css">@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:200;src:local("Source Code Pro Extra Light "),local("Source Code Pro-Extra Light"),url(/static/source-code-pro-latin-200-41568fe7927570e049a6cb707930f353.woff2) format("woff2"),url(/static/source-code-pro-latin-200-568dcb298a36f14317fdcddf8eded62f.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:300;src:local("Source Code Pro Light "),local("Source Code Pro-Light"),url(/static/source-code-pro-latin-300-248b2236ba6bb9d2745a4908bc9c4568.woff2) format("woff2"),url(/static/source-code-pro-latin-300-43fcfcf552695ff0976d7d03a29835c4.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:400;src:local("Source Code Pro Regular "),local("Source Code Pro-Regular"),url(/static/source-code-pro-latin-400-1c37ab07cfefc70a85445f49737ad28a.woff2) format("woff2"),url(/static/source-code-pro-latin-400-a4a08973559a45aba173184ea065addf.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:500;src:local("Source Code Pro Medium "),local("Source Code Pro-Medium"),url(/static/source-code-pro-latin-500-67f6c1995acae33eacb1af1807c0e8c8.woff2) format("woff2"),url(/static/source-code-pro-latin-500-a39fc2de145c00ef5898c77b15c27517.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:600;src:local("Source Code Pro SemiBold "),local("Source Code Pro-SemiBold"),url(/static/source-code-pro-latin-600-bf5d453754c3bd3e0fc9bcdc979048f1.woff2) format("woff2"),url(/static/source-code-pro-latin-600-c021e440e993ff26de945242222960a6.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:700;src:local("Source Code Pro Bold "),local("Source Code Pro-Bold"),url(/static/source-code-pro-latin-700-b46da14cbd07b2f1f5ca74069d59318e.woff2) format("woff2"),url(/static/source-code-pro-latin-700-c86a17b160684a125455d36f4733ad85.woff) format("woff")}@font-face{font-family:Source Code Pro;font-style:normal;font-display:swap;font-weight:900;src:local("Source Code Pro Black "),local("Source Code Pro-Black"),url(/static/source-code-pro-latin-900-e985b6f17d53c2780c3c49722984a52e.woff2) format("woff2"),url(/static/source-code-pro-latin-900-b0d773d996cad7ea914d35d16dd0f3ec.woff) format("woff")}@font-face{font-family:Noto Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Noto Sans Regular "),local("Noto Sans-Regular"),url(/static/noto-sans-latin-400-175853ded2a4e2249d37c46ca0ca33c5.woff2) format("woff2"),url(/static/noto-sans-latin-400-e7ccb0aa43af9fb7fae4d1bdc23a099b.woff) format("woff")}@font-face{font-family:Noto Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Noto Sans Regular italic"),local("Noto Sans-Regularitalic"),url(/static/noto-sans-latin-400italic-baa3ec09eb827b4f10593032d1cf2a88.woff2) format("woff2"),url(/static/noto-sans-latin-400italic-14425b1ebbce551302a950b083b6c14e.woff) format("woff")}@font-face{font-family:Noto Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Noto Sans Bold "),local("Noto Sans-Bold"),url(/static/noto-sans-latin-700-43750a193b8ff0b4e929323a72d79301.woff2) format("woff2"),url(/static/noto-sans-latin-700-a8edfe7bbf3b01666adc30c118cc5223.woff) format("woff")}@font-face{font-family:Noto Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Noto Sans Bold italic"),local("Noto Sans-Bolditalic"),url(/static/noto-sans-latin-700italic-bc98820a9bf62004a88ef07e012e3ce3.woff2) format("woff2"),url(/static/noto-sans-latin-700italic-0e19737ff39f96eb1ff99e463fa457a4.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><link as="script" rel="preload" href="/styles-fbc8e7b96ea6062b4530.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-788c454dbed28c00f3b8.js"/><link as="script" rel="preload" href="/app-0c9a63a3aef9e813df5b.js"/><link as="script" rel="preload" href="/commons-8d9941e7328683a5eecb.js"/><link as="script" rel="preload" href="/webpack-runtime-2742ada98d46151d1c6f.js"/><link as="fetch" rel="preload" href="/page-data/svg/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:39rem;padding:2.4375rem 1.21875rem;font-family:&quot;Source Code Pro&quot;, &quot;Noto Sans CJK SC&quot;"><header><h1 style="font-size:2.2974rem;line-height:3.25rem;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:#DD001B" href="/">云音乐大前端专栏</a></h1></header><main><article><header><h1 style="margin-top:1.625rem;margin-bottom:0;color:#001E26">SVG基础及其动画应用浅析</h1><p style="font-size:0.87055rem;line-height:1.625rem;display:block;margin-bottom:1.625rem">2021-06-23</p></header><section><p><img src="https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9433312341/5fb3/fb4d/6103/ec8afcf714ea018743875fbcd487e434.png"></p>
<blockquote>
<p>本文作者：钱鸿昌（闪火）</p>
</blockquote>
<h2>一、我们为什么使用svg</h2>
<ol>
<li>
<p>和高清png来做个对比</p>
<p><img src="https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9432949540/799a/45ba/25f3/5ed1ac9efeb8aead6ef9c6fa81cf8ce2.png">
<img src="https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9432949460/690d/aee1/3cbd/7a70382c02c2703da45845304e67678c.png"></p>
<p>继续对比</p>
<p><img src="https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9432948534/f1fd/b882/ac94/a689b903df0748e56173edbe427842d9.png">
<img src="https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9432949505/bf5e/79d6/cbad/9b5fe0891253ecaa35a4d1236f899878.png"></p>
<p>同样高清的质地，矢量图不畏惧放大，体积小。这里要说明一点就是，因为 SVG 中保存的是点、线、面的信息，与分辨率和图形大小无关，只是跟图像的复杂程度有关，所以图像文件所占的存储空间通常会比 png 小。</p>
</li>
<li>优化 SEO 和无障碍的利器，因为 SVG 图像是使用XML(可扩展标记语言【英语：Extensible Markup Language，简称：XML】标记指计算机所能理解的信息符号，通过此种标记，计算机之间可以处理包含各种信息的文章等)来标记构建的，浏览器通过绘制每个点和线来打印它们，而不是用预定义的像素填充某些空间。这确保 SVG 图像可以适应不同的屏幕大小和分辨率。</li>
<li>由于是在 XML 中定义的，SVG 图像比 JPG 或 PNG 图像更灵活，而且我们可以使用 CSS 和 JavaScript 与它们进行交互。SVG 图像设置可以包含 CSS 和 JavaScript。在 react、vue 这种数据驱动视图的框架下，对于 SVG 操作就更加如鱼得水了。（下文会跟大家分享一些小的 SVG 动画在我们项目中的实践）  </li>
<li>在运用层面上，SVG 提供了一些图像编辑效果，比如屏蔽和剪裁、应用过滤器等等。并且SVG 只是文本，因此可以使用 GZip 对其进行有效压缩。</li>
</ol>
<h2>二、了解 SVG 常用元素及其使用</h2>
<blockquote>
<p>大多数教程网上都能找到，这里写一些我觉得值得提及的点</p>
</blockquote>
<h3>2-1. svg 标签</h3>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0, 0, 100, 200<span class="token punctuation">"</span></span>  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>49<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span>
    <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d845ce28d19c4092be6a7dd53093ae7c~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>这就是我们从设计手里拿到的 SVG 源文件，我们掰开揉碎了说。首先我们把 SVG 内部代码全部去掉不看，于是成了这样  </p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span>
<span class="token doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0, 0, 100, 200<span class="token punctuation">"</span></span>  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p>这是99% SVG 都会表现出来的形式和及一些属性，其中包含 width、height 这两个视口属性，viewBox 视图属性，xmlns 属性。我们一行一行看   </p>
<blockquote>
<p>第一行：包含了 XML 声明，XML 声明其实和 HTML 文档的 DTD 声明是类似的。类比 HTML5 的声明方式</p>
</blockquote>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span></code></pre></div>
<p>SVG 的文档声明方式（划重点：一般如果 SVG 运用在 HTML 里，我们可以不写这样的文档声明，但如果是单独的 SVG 文件，那就需要写了，否则浏览器可能会不认识）</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token prolog">&lt;?xml version="1.0" standalone="no"?></span></code></pre></div>
<p>我们看到的 <strong>standalone</strong> 属性是在表明该 xml 声明是否是独立的，如果不是即 standalone="no"，那后面会引入外部的 dtd ，如第二行第三行所示。 <strong>version</strong> 属性用于指明 SVG 文档遵循规范的版本。 它只允许在根元素<code class="language-text">&lt;svg&gt;</code> 上使用。 它纯粹是一个说明，对渲染或处理没有任何影响。虽然它接受任何数字，但是只有1.0 和 1.1.这两个有效的选择。</p>
<blockquote>
<p>第三行：这是 SVG 内容的开始</p>
</blockquote>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0, 0, 100, 200<span class="token punctuation">"</span></span>  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<ul>
<li>
<p>xmlns 属性是 SVG 的 XML 声明空间，这一部分类似于 HTML 中的 xmlns="<a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>"</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/xhtml<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xml:</span>lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre></div>
</li>
<li>
<p>width &#x26; height 属性，可以理解成画布的大小。没错是画布的大小。举个例子：</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>100</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>49<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span>
<span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bbb1c4a55f7b47289e856067d52bf386~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>当前这个 SVG 的画布大小是 100 * 100 的画布，我们画上一个半径为 49 再加 1 个单位的描边的圆。刚好撑满没毛病。所见即所得。那我们试一下改变 width 和 height。发现</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token style-attr language-css"><span class="token attr-name">  
    <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>#007fff</span><span class="token punctuation">"</span></span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>
    <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span>
    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>49<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span>
    <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a158ed9af4834c838783fbe9379ca632~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>我们可以看到蓝色区域就是我们定的 width 和 height ,图形部分依然是那个圆没有变化。这样我们就理解了 width 和 height 的作用。</p>
<ul>
<li>
<p>viewBox 属性，接下来配合 viewBox 这个属性我们再来修改下代码</p>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> 
<span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background:#007fff<span class="token punctuation">"</span></span>
<span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>
<span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
<span class="token attr-name">&lt;!--</span> <span class="token attr-name">viewBox定义--</span><span class="token punctuation">></span></span>
viewBox="0, 0, 100, 100"
width="300"
height="300" >
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>49<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span>
<span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f15f471e91e54af4ba86dda791c99d61~tplv-k3u1fbpfcp-zoom-1.image"></p>
</li>
</ul>
<p>我们可以看到蓝色区域大小不变，而我们的圆却变得很大，大到撑满了整个画布。没错，你的想法是对的，所谓 viewBox 这个属性可以理解为我们微信聊天时的截图操作。viewBox 属性的四个参数，前两个表示截图起点，后面两个表示截图终点，均是以左上角定点为原点。最后把截图再拉伸放在 SVG 画布上，就成了我们上面看到的 SVG 了。下面我们再修改一次 viewBox 成 0, 0, 50, 50 帮助理解</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token style-attr language-css"><span class="token attr-name"> 
    <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>#007fff</span><span class="token punctuation">"</span></span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>
    <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>
    <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0, 0, 50, 50<span class="token punctuation">"</span></span> 
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span>
    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>49<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>black<span class="token punctuation">"</span></span>
    <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23388bef23724fc89470a0d00c034326~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>所以整个逻辑大概是这样的</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7995bc331f1949b28df640ce6f53b325~tplv-k3u1fbpfcp-zoom-1.image"></p>
<h3>2-2.path 标签</h3>
<p>在 SVG 里，你可以把 path 看成是最基本的绘制元素，正因为它是最基本的，万变不离其宗，他能演化出各种复杂的绘制效果。所以 path 是最基本也是最复杂的绘制元素。</p>
<h4>path 的基础属性和其代表的意义</h4>
<p>我们知道一个 path 标签，最重要的属性是 d 属性，它是一组指令和参数的集合。在 d 属性的值里，我们能看到一堆非常复杂的指令字符串。</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>
    M73.8616812,68.8664775
    L74.5015359,74.5939423
    L68.1746283,71.7969507
    C66.2299599,72.4159872 64.1377269,72.7711218 61.9444643,72.7711218
    C51.9719158,72.7711218 43.8883163,65.7823167 43.8883163,57.1611168
    C43.8883163,48.5399169 51.9719158,41.5511118 61.9444643,41.5511118
    C71.9164005,41.5511118 80,48.5399169 80,57.1611168
    C80,61.8286883 77.6181486,66.006419 73.8616812,68.8664775<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Fill-1<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FFFFFF<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5927cf68e3e84dc78310bff91fbb8614~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>其实完全不用觉得恶心，这里继续掰开揉碎了说</p>
<ul>
<li>d 属性里的那些指令</li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>M</strong></td>
<td><strong>x y</strong></td>
<td><strong>将画笔移动到点(x,y)</strong></td>
</tr>
<tr>
<td><strong>L</strong></td>
<td><strong>x y</strong></td>
<td><strong>画笔从当前的点绘制线段到点(x,y)</strong></td>
</tr>
<tr>
<td><strong>H</strong></td>
<td><strong>x</strong></td>
<td><strong>画笔从当前的点绘制水平线段到点(x,y0)，y0 表示绘制前画笔所在 y 轴坐标，也就是 y 轴不变</strong></td>
</tr>
<tr>
<td><strong>V</strong></td>
<td><strong>y</strong></td>
<td><strong>画笔从当前的点绘制竖直线段到点(x0,y)，x0 表示绘制前画笔所在 x 轴坐标，也就是 x 轴不变</strong></td>
</tr>
<tr>
<td><strong>A</strong></td>
<td><strong>rx ry x-axis-rotation large-arc-flag sweep-flag x y</strong></td>
<td><strong>画笔从当前的点绘制一段圆弧到点(x,y)</strong></td>
</tr>
<tr>
<td>C</td>
<td>x1 y1, x2 y2, x y</td>
<td>画笔从当前的点绘制一段三次贝塞尔曲线到点(x,y)</td>
</tr>
<tr>
<td>S</td>
<td>x2 y2, x y</td>
<td>特殊版本的三次贝塞尔曲线(省略第一个控制点)</td>
</tr>
<tr>
<td>Q</td>
<td>x1 y1, x y</td>
<td>绘制二次贝塞尔曲线到点(x,y)</td>
</tr>
<tr>
<td>T</td>
<td>x y</td>
<td>特殊版本的二次贝塞尔曲线(省略控制点)</td>
</tr>
<tr>
<td><strong>Z</strong></td>
<td><strong>无参数</strong></td>
<td><strong>绘制闭合图形，如果 d 属性不指定Z命令，则绘制线段，而不是封闭图形</strong></td>
</tr>
</tbody>
</table>
<p>以上是 path 路径中的全部指令，其中加粗部分为常用基础指令，相对来说比较好理解。每个指令都有对应的小写指令。例如M 10,10 有对应的 m 10,10 。大写代表绝对位置，<strong>所谓绝对位置即对 SVG 画布左上角原点的绝对</strong>。小写代表相对位置，<strong>所谓相对位置是以当前画笔所在位置进行定位</strong>。</p>
<ul>
<li>
<p>A(arc)画弧指令  </p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">A rx ry x-axis-rotation large-arc-flag sweep-flag x y</code></pre></div>
</li>
</ul>
<svg width="100%" height="100%">
    <path d="M0 0 A 45 45, 0, 0, 0, 45 45 L 45 0 Z" fill="green"/>
</svg>
```   
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c1f3c4317604d9da1e05e424a4ae705~tplv-k3u1fbpfcp-zoom-1.image)
<p>画了张图，帮助理解</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a6f3e14147f4245a3fe06e19d45e36e~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>按照图中的步骤，我们可以画出两个圆都满足，于是再看到其中A指令有三个0我们没有解释，回顾下 A 指令，并结合这张图我们可以更好的理解</p>
<p><strong>A rx ry x-axis-rotation large-arc-flag sweep-flag x y</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70e9722c409449648602c473294e333d~tplv-k3u1fbpfcp-zoom-1.image"></p>
<ul>
<li>贝塞尔曲线<br>
关于贝塞尔曲线，张老师这篇文章已经说得非常清楚了，说得非常易懂<a href="https://www.zhangxinxu.com/wordpress/2014/06/deep-understand-svg-path-bezier-curves-command/">深度理解 SVG 路径</a>，推荐给希望更多了解 svg 路径的同学  </li>
</ul>
<h3>2-3.基本图形</h3>
<p>基本图形这块相对比较好理解，我们直接一张表总结下，不做过多赘述</p>
<table>
<thead>
<tr>
<th>图形</th>
<th>标签</th>
<th>模板</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>矩形</td>
<td>&#x3C; rect ></td>
<td><code class="language-text">&lt;rect x=&quot;60&quot; y=&quot;10&quot; rx=&quot;10&quot; ry=&quot;10&quot; width=&quot;30&quot; height=&quot;30&quot;/&gt;</code></td>
<td>x:起点横坐标，y:起点纵坐标，rx:倒角x轴方向半径，ry:倒角x轴方向半径，width:宽度，height:高度</td>
</tr>
<tr>
<td>圆形</td>
<td>&#x3C; circle ></td>
<td><code class="language-text">&lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;50&quot; fill=&quot;#fff&quot;&gt;&lt;/circle&gt;</code></td>
<td>cx:圆心横坐标，cy:圆心纵坐标，r:半径</td>
</tr>
<tr>
<td>椭圆</td>
<td>&#x3C; ellipse ></td>
<td><code class="language-text">&lt;ellipse cx=&quot;75&quot; cy=&quot;75&quot; rx=&quot;20&quot; ry=&quot;5&quot;/&gt;</code></td>
<td>cx:椭圆心横坐标，cy:椭圆心纵坐标，rx:椭圆x轴方向半径，ry:椭圆y轴方向半径</td>
</tr>
<tr>
<td>直线</td>
<td>&#x3C; line ></td>
<td><code class="language-text">&lt;line x1=&quot;10&quot; x2=&quot;50&quot; y1=&quot;110&quot; y2=&quot;150&quot;/&gt;</code></td>
<td>x1，y1:起点，x2，y2:终点</td>
</tr>
<tr>
<td>折线</td>
<td>&#x3C; polyline ></td>
<td><code class="language-text">&lt;polyline points=&quot;60 110, 65 120, 70 115, 75 130, 80 125, 85 140, 90 135, 95 150, 100 145&quot;/&gt;</code></td>
<td>每两个点以空格配对为一个坐标点，逗号隔开形成坐标集合。连成折线。</td>
</tr>
<tr>
<td>多边形</td>
<td>&#x3C; polygon ></td>
<td><code class="language-text">&lt;polygon points=&quot;50 160, 55 180, 70 180, 60 190, 65 205, 50 195, 35 205, 40 190, 30 180, 45 180&quot;/&gt;</code></td>
<td>类似折线，不同的是，最后一个点会自动闭合第一个点，形成闭环。</td>
</tr>
</tbody>
</table>
<h3>2-4.symbol标签</h3>
<p>symbol 标签是我们直播团队 icon 管理平台实现的核心技术点，它的作用说白话点就是相当于是一个元件，放在我们的工具箱里，就像下面这样：</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>svg-sprite<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>[工具箱]
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-wave_add<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 76 76<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M38 0a4 4 0 014 4v30h30a4 4 0 110 8H41.999L42 72a4 4 0 11-8 0l-.001-30H4a4 4 0 110-8h30V4a4 4 0 014-4z<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentColor<span class="token punctuation">"</span></span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span> <span class="token attr-name">opacity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-time<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 10 10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M5 0a5 5 0 110 10A5 5 0 015 0zm0 1.5a.5.5 0 00-.5.5v3.02l.008.088a.5.5 0 00.238.343L7.02 6.794l.082.039a.5.5 0 00.603-.215l.039-.082a.5.5 0 00-.216-.603L5.5 4.735V2l-.008-.09A.5.5 0 005 1.5z<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rgba(153,153,153,1)<span class="token punctuation">"</span></span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> <span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>symbol</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon-wave_delete<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 40 40<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>circle</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#000<span class="token punctuation">"</span></span> <span class="token attr-name">opacity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0.2<span class="token punctuation">"</span></span> <span class="token attr-name">cx</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">cy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">r</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>circle</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FFF<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M13 13l14 14M27 13L13 27<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>symbol</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>
<p>放一份就可以无限引用。当它在工具箱里时，我们是看不到它的（页面不会渲染它），只有我们使用了<code class="language-text">&lt;use&gt;</code>标签对其进行实例引用时，我们才可以在页面上看到它：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&lt;use xlink:href=&quot;#icon-time&quot;&gt;&lt;/use&gt;</code></pre></div>
<p><img src="https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9432981068/798e/48b8/d0d1/8fd74d42f92dfc20f63e822414fdcfb3.png"></p>
<p>我们使用<code class="language-text">&lt;symbol&gt;</code> + <code class="language-text">&lt;use&gt;</code>的组合，来实现svg雪碧图，是不是觉得很easy。</p>
<p>有的同学会有疑问，symbol 标签和 g 标签，放在 defs 里仿佛都是在定义一个可复用的模块，那么两者之间有什么区别呢？在我的理解里，symbol 相对于g 标签最大的不同在于 symbol 可以给可复用代码块增加视图属性和视口属性。方便在服用的时候直接调整到合适的运用(打印)尺寸。  </p>
<h2>三、svg 动画及其运用</h2>
<h3>3-1.svg 动画概要</h3>
<blockquote>
<p>其实关于 SVG 动画，要说的有很多，本文我们主要说一下 SVG 动画的一些基本属性和运用技巧<br>
1、SMIL 驱动<br>
2、JavaScript 驱动<br>
3、CSS 驱动  </p>
</blockquote>
<table>
<thead>
<tr>
<th>技术</th>
<th>描述</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>SMIL</td>
<td>很强大且纯粹的标签化动画</td>
<td>虽然 Chrome 45以后弃用了SMIL，但是依然支持，各大浏览器的支持度都挺好的</td>
</tr>
<tr>
<td>CSS</td>
<td>CSS 还只能实现简单的动画</td>
<td>offset-path 的兼容性很差。css 动画不适合做交互性很强的动画</td>
</tr>
<tr>
<td>JavaScript</td>
<td>复杂动画就要用到 JS 了，包括世面上的一些 SVG 动画库，也都是 JS 去实现的</td>
<td></td>
</tr>
</tbody>
</table>
<p>SVG 是基于 XML 的矢量图形描述语言，可以近似理解成 HTML，所以能和 JS 以及 CSS 进行交互。 特
别是 CSS，我们可以使用 CSS3 来对 SVG 做动画处理。但是要记住的是仅当 HTML 内联包含 SVG 文件
时,我们才可以使用 CSS 对其做样式开发。<strong>本文我们针对平时 CSS3 + HTML不容易实现，
而利用 SVG 可以快速简便实现的几种场景做相应介绍</strong></p>
<h3>3-2.SVG 动画实践</h3>
<blockquote>
<p><strong>1、直线的变化</strong><br>
<strong>2、path 路径实现图形的平滑变幻</strong><br>
<strong>3、描边动画</strong><br>
<strong>4、指定轨迹运动</strong> </p>
</blockquote>
<h4><strong>3-2-1、直线的变化</strong></h4>
<p>  下面这张图是一个 GIF 的 icon,体积大约是 156KB,压缩之后。</p>
<p>  <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7592a074655844968fca5dc021c9c543~tplv-k3u1fbpfcp-watermark.image" alt="living.gif">  </p>
<p>  如果我们用 SVG 去实现的话。应该怎么做呢。我们分为以下两种方式，亲测兼容性都 OK</p>
<p>  <a href="https://codesandbox.io/s/vigilant-brown-uurpf?file=/src/App.js">CSS+SVG 实现的代码实践</a>  </p>
<p>  <a href="https://codesandbox.io/s/divine-darkness-obnt4?file=/src/App.js">基于 SMIL 实现的代码实践</a></p>
<blockquote>
<p><strong>总结&#x26;说明</strong>：     </p>
</blockquote>
<p>  <strong>知识点1：</strong> </p>
<p>  SVG 中有很多属性我们是可以用 CSS 去描述的。在基于 CSS 动画三剑客（animation, transform, transition）的基础上。我们对一些属性进行控制，就达到我们想要的动画效果。下面两点值得说明：  </p>
<ul>
<li>
<p><strong>transform</strong>：transform 有两种用法，一个是在 SVG 标签里写的 transform 属性、另一种是在 CSS 文件里写的 transform，他们有着本质的区别。</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css">&lt;rect transform=<span class="token string">"rotate(45deg) ..."</span>  ... /></code></pre></div>
</li>
</ul>
<p>rect {
transform: rotate(45deg)
}
/** 行内的 transform 属性，他的执行基点是在我们 svg 元素的左上角也就是 svg 的坐标原点。<strong>/
/</strong> 而 CSS 的 transform 原点则在元素本身的中心点。**/</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  - **CSS可描述属性**： 很多文章告诉我们 CSS 可以控制 SVG 去做动画，但是实际开发过程中我们会更想知道，到底哪些属性我们可以做css控制，这里给大家列出一些常用属性并且可以放心使用的属性
  
   | CSS 可控属性名 |可实现场景
   | --- | --- |
   | 理论上所有的显示属性，都可以使用 CSS 控制包括：比如 stroke-width、color、fill 等等[ SVG 的显示属性](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute)|大部分的显示样式动态变化
   |x|我们知道矩形有 x、y 属性，其含义是起始点，控制 x，我们可以动态控制矩形的X轴位移
   |y|控制 y，我们可以动态控制矩形的 Y 轴向位移
   |cx|`&lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;50&quot; fill=&quot;#fff&quot; /&gt;`这是一个圆形，控制 cx 可以控制圆形(或者椭圆)的 X 轴位移|
   |cy|控制 cy 可以控制圆形(或者椭圆)的 Y 轴位移
   |r|r 是圆的半径，控制 r 可以控制圆形的大小
   |rx|rx 是椭圆的 X 轴方向半径，控制 rx 可以控制椭圆的大小
   |ry|ry 是椭圆的 Y 轴方向半径，控制 ry 可以控制椭圆的大小
   |d|path 标签的 d 属性，控制 d 的路径信息，可以控制图形的变幻（***d 属性在 safari 上是不支持 css 描述的。我们下文会详细的说明***）|
   |PS:如果各位看官们在日常开发中，不清楚该属性是否可以通过 css 去控制，这边给大家提供一个查询链接|[不支持 CSS 控制的 SVG 相关属性](https://www.w3.org/TR/SVG/attindex.html)  
  

   **知识点2：** 
   
   可以利用 SMIL 对 SVG 做动画处理，举个例子，同样的动画效果，下面这段代码不用 CSS 也可以实现
  
   ```js
    export default function App() {
      return (
        &lt;div className=&quot;App&quot;&gt;
          &lt;svg width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 100% 100%&quot;&gt;
            {[1, 2, 3, 4, 5].map((it, index) =&gt; (
              &lt;line
                key={index}
                stroke=&quot;#000&quot;
                strokeWidth=&quot;2&quot;
                x1={15 + index * 5}
                y1=&quot;8&quot;
                x2={15 + index * 5}
                y2=&quot;22&quot;
              &gt;
                &lt;animate
                  attributeName=&quot;y1&quot;
                  values=&quot;8; 15; 8&quot;
                  dur=&quot;1s&quot;
                  begin={`${(5 % (index + 1)) * 0.2}s`}
                  repeatCount=&quot;indefinite&quot;
                /&gt;
                &lt;animate
                  attributeName=&quot;y2&quot;
                  values=&quot;22; 15; 22&quot;
                  dur=&quot;1s&quot;
                  begin={`${(5 % (index + 1)) * 0.2}s`}
                  repeatCount=&quot;indefinite&quot;
                /&gt;
              &lt;/line&gt;
            ))}
          &lt;/svg&gt;
        &lt;/div&gt;
      );
    }</code></pre></div>
<ul>
<li><strong>那么<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL">什么是 SVG 的 SMIL 呢</a>？</strong>
这里不想再对其做大篇幅的赘述，因为网上有很多文章都已经说得比较详细了<a href="https://css-tricks.com/guide-svg-animations-smil/">SMIL 动画指栏</a>、<a href="https://www.zhangxinxu.com/wordpress/2014/08/so-powerful-svg-smil-animation/">SVG SMIL animation 动画详解</a>。 本文更想和大家交流的是在SMIL驱动和CSS驱动如何做选择的问题。<br>
虽然说早在 Chrome 45,chrome 就已经官宣要弃用 SMIL，但是到目前位置，各大浏览器厂商对它的支持度是这样的</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0deab924bd2c4c40a5ad1936cab9d5da~tplv-k3u1fbpfcp-watermark.image" alt="image.png">
Chrom 宣布弃用 SMIL 是因为要支持 CSS Animation 与 Web Animation 的发展，所以我们可以理解为当前是在一个过渡状态，确实有一些暂时CSS 还没法支持或者支持度很差的动画效果，SMIL 可以轻松完成。但是基于 web 动画技术发展的大趋势，还是建议我们 SVG 动画实现方案的选择优先级是CSS 驱动 -> JS 驱动（我们可以采用一些框架，文末会给大家推荐一些好用的框架） -> SMIL 驱动</p>
<h4><strong>3-2-2、path 路径的变化(图形平滑变化)</strong></h4>
<p> <img src="https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9433024753/d34d/5b67/0fad/1304a99c38c2ee1cc64ac9483dfb50a6.gif" alt="image.png">
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98058068fb034ef484ac39ce5b060264~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>  <a href="https://codesandbox.io/s/smil-logo-change-nr7ie">CSS+SVG 实现的代码实践 Logo 变化</a>  </p>
<p>  <a href="https://codesandbox.io/s/css-logo-change-pyjcc">基于 SMIL 实现的代码实践 Logo 变化</a></p>
<p>  <a href="https://codesandbox.io/s/thirsty-frost-oeqzs?file=/src/index.less">CSS+SVG 实现的代码实践播放暂停</a>  </p>
<p>  <a href="https://codesandbox.io/s/youthful-wilson-7jpxr?file=/src/App.js">基于 SMIL 实现的代码实践播放暂停</a></p>
<blockquote>
<p><strong>总结&#x26;说明</strong>：     </p>
</blockquote>
<p>  <strong>知识点1：</strong>  </p>
<p>  通过对<code class="language-text">&lt;path/&gt;</code> d 属性的控制，我们可以实现很多动画效果，对于 d 属性的控制目前有两种方式，一种是通过 CSS 控制，另一种是通过 SMIL 控制，但是目前由于 <strong>safari 不支持</strong>用 CSS 来描述<code class="language-text">&lt;path&gt;</code>标签的 d 属性。所以在实现这种平滑的形状变形效果上不推荐使用 CSS。更加推荐使用SMIL或者第三方库去实现  </p>
<p>基于 CSS：</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css">    <span class="token selector">path</span> <span class="token punctuation">{</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> ease all 0.3s<span class="token selector">; // 就像对dom一样的对待svg

      &amp;.play</span> <span class="token punctuation">{</span> //这里是播放状态下的&lt;path />路径
        <span class="token property">d</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token string">"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">&amp;.pause</span> <span class="token punctuation">{</span> //这里是播放状态下的&lt;path />路径
        <span class="token property">d</span><span class="token punctuation">:</span> <span class="token function">path</span><span class="token punctuation">(</span>
          <span class="token string">"M 12,26 16.33,26 16.33,10 12,10 z M 20.66,26 25,26 25,10 20.66,10 z"</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre></div>
<p>基于 SMIL(即通过<code class="language-text">&lt;animate&gt;</code>实现对<code class="language-text">&lt;path&gt;</code> d 属性的动态控制)：</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">  <span class="token keyword">const</span> pathMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">"M 12,26 16.33,26 16.33,10 12,10 z M 20.66,26 25,26 25,10 20.66,10 z"</span><span class="token punctuation">,</span>
    to<span class="token punctuation">:</span> <span class="token string">"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token operator">&lt;</span>svg <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"icon"</span> viewBox<span class="token operator">=</span><span class="token string">"0 0 120 120"</span> width<span class="token operator">=</span><span class="token string">"400"</span> height<span class="token operator">=</span><span class="token string">"400"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>path
      d<span class="token operator">=</span><span class="token string">"M 12,26 16.33,26 16.33,10 12,10 z M 20.66,26 25,26 25,10 20.66,10 z"</span>
      fill<span class="token operator">=</span><span class="token string">"#000000"</span>
    <span class="token operator">></span>
      <span class="token operator">&lt;</span>animate
        attributeName<span class="token operator">=</span><span class="token string">"d"</span>
        <span class="token keyword">from</span><span class="token operator">=</span><span class="token punctuation">{</span>play <span class="token operator">?</span> pathMap<span class="token punctuation">.</span>from <span class="token punctuation">:</span> pathMap<span class="token punctuation">.</span>to<span class="token punctuation">}</span>
        to<span class="token operator">=</span><span class="token punctuation">{</span>play <span class="token operator">?</span> pathMap<span class="token punctuation">.</span>to <span class="token punctuation">:</span> pathMap<span class="token punctuation">.</span>from<span class="token punctuation">}</span>
        dur<span class="token operator">=</span><span class="token string">"0.3s"</span>
        begin<span class="token operator">=</span><span class="token string">"indefinite"</span> <span class="token comment">// 这里设置开始时间为无限以达到不自动播放的效果</span>
        fill<span class="token operator">=</span><span class="token string">"freeze"</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>path<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>svg<span class="token operator">></span></code></pre></div>
<p> 以上两个 path 路径的切换，就可以带来这种平滑过渡的效果。  </p>
<p> <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98058068fb034ef484ac39ce5b060264~tplv-k3u1fbpfcp-watermark.image" alt="play.gif">  </p>
<p>  <strong>知识点2：</strong></p>
<p>  我们看到的图形变幻，都需要遵循一个原则就是点数对齐原则，什么意思呢？我们可以看下面的demo，五角星到 10 边形(多边形画的不好，抱歉...😜)。，都是 10 个控制点到 10 个控制点的过度。所以效果平滑</p>
<p>  <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca69e00bb30d4a01b1d00c01fcb1efe3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>  <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ac3459005aa46f59743c27f3d655a55~tplv-k3u1fbpfcp-watermark.image" alt="image.png">  </p>
<p>   而下图的 10 个点到 3 个点就没有这种平滑的过渡效果了(当然现在很多的 SVG 动画框架已经解决了这个问题。<strong><em>见文末的框架推荐</em></strong> )</p>
<p>   <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c78fe516bf64d67b47335e9d022c691~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4><strong>3-2-3、描边动画的应用</strong></h4>
<p>   <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fa169b4e8a7a411b9cd06869819149cf~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>   <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/71f5463877704ad1b4dba7cf274b8104~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>  <a href="https://codesandbox.io/s/happy-star-znohq">CSS+SVG 实现的代码实践-星环</a>  </p>
<p>  <a href="https://codesandbox.io/s/css-logo-stroke-wd7xd">CSS+SVG 实现的代码实践- LOGO 描边</a>  </p>
<p>  <a href="https://codesandbox.io/s/smil-circle-progress-7rms7">基于 SMIL 实现的代码实践-进度环</a></p>
<blockquote>
<p><strong>总结&#x26;说明</strong>： </p>
</blockquote>
<p>  <strong>知识点1：</strong>  </p>
<p>  类似的描边动画我们可以拿来做很多效果，比如各种形状的进度条、比如文字的描边、比如霓虹灯流水灯光等等流动动画效果。而描边动画的核心点就在于 SVG 的两个显示属性分别是 stroke-dasharray、stroke-dashoffset，我们上文说了，几乎所有的显示属性都可以用 CSS 去控制，所以这种动画，建议使用 CSS 去开发。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>值举例</th>
<th>描述</th>
<th>支持范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>stroke-dasharray</td>
<td>1 3 4 4</td>
<td>它的值是一个序列，可以传入多个值，分别指定描边短线的长度和描边线间距，多个值依次循环，如果传入3个值，类似于 stroke-dasharray: 1,2,3。则会自动复制一份再生效</td>
<td><code class="language-text">&lt;circle&gt;, &lt;ellipse&gt;, &lt;line&gt;, &lt;mesh&gt;, &lt;path&gt;, &lt;polygon&gt;, &lt;polyline&gt;, &lt;rect&gt; &lt;altGlyph&gt;, &lt;altGlyphDef&gt;, &lt;altGlyphItem&gt;, &lt;glyph&gt;, &lt;glyphRef&gt;, &lt;textPath&gt;, &lt;text&gt;, &lt;tref&gt;, &lt;tspan&gt;</code></td>
</tr>
<tr>
<td>stroke-dashoffset</td>
<td>10</td>
<td>描边线段的起始位置距离图形绘制起点的偏移量。正负值可以决定顺时针还是逆时针走向</td>
<td>跟stroke-dasharray一致</td>
</tr>
</tbody>
</table>
<p>设想一个场景，一个倒计时需要从 100 到 0，对应的视觉效果也就是从全描边到无描边。那么我们初始状态将 stroke-dasharray 的第一个值设为 2πr (周长)，第二个值设也设为 2πr (周长)。那么我们会得到一个整圆。</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7c5456840bb45c7a1f9ce33b9ee7847~tplv-k3u1fbpfcp-watermark.image" alt="image.png"> </p>
<p>这时如果我们把圆展开就能看到这样的场景   </p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/213e5db2813144218fd3d1853013b37e~tplv-k3u1fbpfcp-watermark.image" alt="image.png">
所以要实现进度的动态变化其实有两种方案<br>
第一种是将stroke-dasharray的第一个值从2πr(周长)调整到0。原展开图中的黑色部分没有了（可以理解为变成了一个点如下图，看不见了），只剩下虚线部分是空白间隙了。    </p>
<p>第二种是将stroke-dashoffset的值从0调整到-2πr（或者增加到2πr）。对比第一张图成下图的样子<br>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d2e1d58400e4656aeaf406abc3c86dd~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><strong>知识点2：</strong>  </p>
<p>在实际开发中，我们会遇到一些比较复杂的图形需要做描边，这个时候我们没办法去得到它的周长是多少，这时候分两种场景处理。一种是在CSS里我们可以将stroke-dasharray的第二个值设置成一个非常大的数字，然后再去调整第一个值比如：</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css">    <span class="token selector">path</span> <span class="token punctuation">{</span>
        <span class="token property">stroke-dasharray</span><span class="token punctuation">:</span> <span class="token function">0</span><span class="token punctuation">(</span>调整到合适的值<span class="token punctuation">)</span> 99999999999999
    <span class="token punctuation">}</span></code></pre></div>
<p>如果在js里我们需要动态去获取周长的话，SVG提供了原生的api可以去获取path的周长。</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">    <span class="token keyword">const</span> inPath <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"inner-path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inPath<span class="token punctuation">.</span><span class="token function">getTotalLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ps：有些资料说该方法只能用于<code class="language-text">&lt;path /&gt;</code>，但是笔者亲测了在safair和chrome上，基本可以支持所有的基础图形以及<code class="language-text">&lt;path /&gt;</code>，但是<code class="language-text">&lt;text /&gt;</code>不支持，浏览器会报not a function。  </p>
<p>既然说到了<code class="language-text">getTotalLength()</code>,那么顺带说下<code class="language-text">getPointAtLength()</code>。getPointAtLength，顾名思义就是根据距离获取点坐标。意思就是根据到起始点的距离，获取该指定距离对应的点的坐标。坐标系原点为该图形的起始点。在一些指向型的动画上我们可能会运用到这个api。</p>
<h4><strong>3-2-4、轨迹运动动画的应用</strong></h4>
<p><img src="https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9451572923/613f/5c28/10c7/e11b04956ee46a3607636a7501de9b17.gif" alt="fly.gif"></p>
<p><a href="https://codesandbox.io/s/elastic-wiles-u8k9p">基于SMIL实现的代码实践-轨迹运动</a></p>
<blockquote>
<p><strong>总结&#x26;说明</strong>：</p>
</blockquote>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">{/* 我们将整个飞机图形元件用g标签包起 */}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>translate(-100, -35) scale(0.1)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
    <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M164.485419 578.709313L196.274694 794.731891c0.722484 5.53904 8.188147 7.224835 11.078081 2.408278l75.860772-121.377234 740.063969-363.409219L164.485419 578.709313z<span class="token punctuation">"</span></span>
    <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#F68206<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
    <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M2.167451 440.233302l159.668861 132.214487 857.828787-260.334901zM289.475071 679.375353l191.217309 153.407337 542.344309-518.743179z<span class="token punctuation">"</span></span>
    <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#FF9900<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
    <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M204.222013 800.030103l125.23048-80.677328-48.888053-39.014111-76.342427 118.4873<span class="token punctuation">"</span></span>
    <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#D3650B<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
  {/* 然后在这里，我们利用animateMotion，去做这个轨迹运动 */}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateMotion</span>
    <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M 0 450 Q 150 50 250 50 Q 350 0 400 50 Q 500 50 450 200 C 300 350 250 200 500 50 C 600 50 750 200 650 250 A 50 50 0 1 1 800 50 <span class="token punctuation">"</span></span>
    <span class="token attr-name">begin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0s<span class="token punctuation">"</span></span>
    <span class="token attr-name">rotate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span>
    <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20s<span class="token punctuation">"</span></span>
    <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>indefinite<span class="token punctuation">"</span></span>
  <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span></code></pre></div>
<p>这里我们用到了SMIL里的<code class="language-text">&lt;animateMotion /&gt;</code>，animateMotion里的path属性，我们也可以像这样去使用</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>theMotionPath<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animateMotion</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mpath</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#theMotionPath<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>animateMotion</span><span class="token punctuation">></span></span></code></pre></div>
<p>实际生产中，我们这种轨迹运动的需求，是建议使用SMIL去实现的，当然CSS也是有实现方案的<a href="http://www.zhangxinxu.com/wordpress/2017/03/offset-path-css-animation/">《使用CSS offset-path让元素沿着不规则路径运动》</a>。但是CSS的兼容实在不敢恭维，劝退一波。</p>
<h2>四、写在最后</h2>
<p><strong>1</strong>、 建议将CSS动画用于无变形的过渡或简单动画。尤其是在硬件加速时。CSS不需要加载其他资源（一般指三方库），并且悬停时的小变换可以为交互带来更好的效果。特别是当你不需要3d、物理体感、或进行大量堆叠动画效果时建议选用CSS。另外，CSS方便调试也是很大的一个优势。  </p>
<p><strong>2</strong>、对于较长的动画，开发时会变得非常复杂且需要花精力去调试，而CSS调整时间尺度很困难，尤其是当你需要操纵一些细微帧时，个人觉得SMIL更合适做有序的，复杂的堆叠动画群的场景。 </p>
<p><strong>3</strong>、对于变形的动画，建议使用SMIL或者第三方库。推荐的比较优秀的三方库有以下几个。  </p>
<table>
<thead>
<tr>
<th>库名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://greensock.com/gsap/">GSAP</a></td>
<td>全称是GreenSock Animation Platform，以前流行用 flash 的时候，GSAP就叱咤江湖的存在，GSAP有两个版本一个是 flash 版本，一个是 javascript 版本，也就是我们说的 GSAP js。GSAP 速度快。GSAP专门优化了动画性能，使之实现和css一样的高性能动画效果；轻量与模块化；</td>
</tr>
<tr>
<td><a href="http://snapsvg.io/">Snap.svg</a>、<a href="https://svgjs.dev/docs/3.0/">SVG.js</a>、<a href="http://www.velocityjs.org/">Velocity.js</a></td>
<td>这三个库一直会被开发者拿来对比，基本上会用jQuery，就会使用这三个库，也就是说入手友好，Snap.svg 更偏向于支持现代浏览器，所以它的体量也会小一些。对比 Snap.svg 来看 SVG.js ，SVG.js 的写法更加的清晰，使用时会有更好的体验，且自称提供接近完整的 SVG 规范覆盖。Snap.svg 风格就更像一个侠客，写起来会很潇洒但是不好读，Velocity 也很强大，简单易用、高性能、功能丰富</td>
</tr>
<tr>
<td><a href="https://www.animejs.cn/">anime.js</a></td>
<td>anime.js 虽然功能没有 GASP 强大，但是体积很乐观，gzip压缩完只有9kb左右，满足日常需求开发还是足够的</td>
</tr>
<tr>
<td><a href="https://d3js.org/">D3</a></td>
<td>Data-Driven Documents 顾名思义，更加适合用于创建数据可视化图形场景去使用</td>
</tr>
</tbody>
</table>
<p><strong>4</strong>、如何使用 SMIL 进行硬件加速，使用 <animateTransform>代替<animate>，并设置 x、y、z 值（z 为 0）。原理与 CSS 类似，这会将元素移到它自己的层，从而在其发生运动时不会重新绘制。</p>
<h2>参考资料</h2>
<ul>
<li><a href="https://css-tricks.com/guide-svg-animations-smil/">SVG 动画指栏（SMIL）</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial">SVG 教程</a></li>
<li><a href="https://www.w3.org/TR/SVG/attindex.html">CSS 支持的 SVG 属性查寻</a></li>
<li>以及文章内提及的一些文章</li>
</ul>
<blockquote>
<p>本文发布自 <a href="https://github.com/x-orpheus">网易云音乐大前端团队</a>，文章未经授权禁止任何形式的转载。我们常年招收前端、iOS、Android，如果你准备换工作，又恰好喜欢云音乐，那就加入我们 grp.music-fe(at)corp.netease.com！</p>
</blockquote></section><hr style="margin-bottom:1.625rem"/></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/color-quiz/">← 上一篇</a></li><li><a rel="next" href="/android-agp/">下一篇 →</a></li></ul></nav><div id="disqus_thread"></div></main></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-46698359-8', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/svg/";window.webpackCompilationHash="b0082026f0d2e3ac3c54";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-0c9a63a3aef9e813df5b.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-51d272fe0618a2665c13.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-788c454dbed28c00f3b8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e9fc057fd683384561c6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-48dc264068dece189e1b.js"]};/*]]>*/</script><script src="/webpack-runtime-2742ada98d46151d1c6f.js" async=""></script><script src="/commons-8d9941e7328683a5eecb.js" async=""></script><script src="/app-0c9a63a3aef9e813df5b.js" async=""></script><script src="/component---src-templates-blog-post-js-788c454dbed28c00f3b8.js" async=""></script><script src="/styles-fbc8e7b96ea6062b4530.js" async=""></script></body></html>